{
  "enabled": true,
  "forkProcessing": "enabled",
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    ":dependencyDashboard",
    ":semanticPrefixFixDepsChoreOthers",
    "config:base",
    "group:all",
    "replacements:all",
    "workarounds:all"
  ],
  "timezone": "America/New_York",
  "rebaseStalePrs": true,
  "schedule": ["after 7am and before 9am every weekday"],
  "dependencyDashboard": true,
  "dependencyDashboardTitle": "Renovate Dashboard ðŸ¤–",
  "rebaseWhen": "conflicted",
  "commitBodyTable": true,
  "suppressNotifications": ["prIgnoreNotification"],
  "pre-commit": {
    "enabled": true
  },
  "helm-values": {
    "fileMatch": ["./.+\\.yaml$"]
  },
  "kubernetes": {
    "fileMatch": ["\\.yaml$"],
    "ignorePaths": [
      ".github"
    ]
  },
  "regexManagers": [
    {
      "fileMatch": [".*\\.ya?ml$"],
      "matchStrings": [
        "# renovate: datasource=helm\n .*- name: (?<depName>.*?)\n *url: (?<registryUrl>.*?)\n *version: (?<currentValue>.*)\n"
      ],
      "datasourceTemplate": "helm",
      "extractVersionTemplate": "{{#if extractVersion}}{{{extractVersion}}}{{else}}^(?<version>.*)${{/if}}"
    },
    {
      "fileMatch": [".*\\.ya?ml$"],
      "matchStrings": [
        "# renovate: datasource=(?<datasource>.*?) depName=(?<depName>.*?)( versioning=(?<versioning>.*?))?( extractVersion=(?<extractVersion>.*?))?( registryUrl=(?<registryUrl>.*?))?\\s.*?:\\s*['\"]?(?<currentValue>.*?)['\"]?\\s"
      ],
      "versioningTemplate": "{{#if versioning}}{{{versioning}}}{{else}}semver-coerced{{/if}}",
      "extractVersionTemplate": "{{#if extractVersion}}{{{extractVersion}}}{{else}}^(?<version>.*)${{/if}}"
    },
    {
      "fileMatch": [".*\\.ya?ml$"],
      "matchStrings": [
        "# renovate: zarf-uri datasource=github-tags depName=(?<depName>.*?)( versioning=(?<versioning>.*?))?\\s.*?uri: ['\"]https:\\/\\/github.com\\/defenseunicorns\\/zarf\\/releases\\/download\\/(?<currentValue>.*)\\/zarf_.*_Linux_amd64['\"]",
        "# renovate: zarf-uri datasource=github-tags depName=(?<depName>.*?)( versioning=(?<versioning>.*?))?\\s.*?uri: ['\"]https:\\/\\/github.com\\/defenseunicorns\\/zarf\\/releases\\/download\\/.*\\/zarf_(?<currentValue>.*)_Linux_amd64['\"]"
      ],
      "versioningTemplate": "{{#if versioning}}{{{versioning}}}{{else}}semver-coerced{{/if}}",
      "datasourceTemplate": "github-tags"
    },
    {
      "fileMatch": [".*\/?zarf\\.ya?ml$"],
      "matchStrings": [
        "-\\s+['\"]?(?<depName>[^:]+):(?<currentValue>.*)['\"]?"
      ],
      "versioningTemplate": "{{#if versioning}}{{{versioning}}}{{else}}semver-coerced{{/if}}",
      "datasourceTemplate": "docker",
      "extractVersionTemplate": "{{#if extractVersion}}{{{extractVersion}}}{{else}}^(?<version>.*)${{/if}}"
    },
    {
      "fileMatch": [
        "(^|/)zarf.yaml$"
      ],
      "matchStringsStrategy": "recursive",
      "matchStrings": [
        "charts:(.|\n)*?(^\\s{4}[\\w:]+|\n$|^\\s{2}-)",
        "- name: (?<depName>.+)(.(?! - name:)|\n)*?url: (?<registryUrl>.+)(.(?! - name:)|\n)*?version: (?<currentValue>.+)"
      ],
      "datasourceTemplate": "helm"
    },
    {
      "fileMatch": [
        "(^|/)zarf.yaml$"
      ],
      "matchStringsStrategy": "recursive",
      "matchStrings": [
        "charts:(.|\n)*?(^\\s{4}[\\w:]+|\n$|^\\s{2}-)",
        "- name: (?<depName>.+)(.(?! - name:)|\n)*?version: (?<currentValue>.+)(.(?! - name:)|\n)*?url: (?<registryUrl>.+)"
      ],
      "datasourceTemplate": "helm"
    }
  ]
}
